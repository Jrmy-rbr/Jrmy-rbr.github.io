



<!DOCTYPE html>
<html lang="en">
  
  <head>
    
      <meta charset="utf-8">
      <title>Bokeh Plot</title>
      
      
        
          
        
        
          
        <script type="text/javascript" src="https://cdn.pydata.org/bokeh/release/bokeh-1.4.0.min.js"></script>
        <script type="text/javascript" src="https://cdn.pydata.org/bokeh/release/bokeh-widgets-1.4.0.min.js"></script>
        <script type="text/javascript">
            Bokeh.set_log_level("info");
        </script>
        
      
      
    
  </head>
  
  
  <body>
    
      
        
          
          
            
              <div class="bk-root" id="e63ac420-3e6b-4403-be31-589de800c907" data-root-id="1234"></div>
            
          
        
      
      
        <script type="application/json" id="1334">
          {"35236162-dd0f-4c95-af51-33e78b85bcd6":{"roots":{"references":[{"attributes":{"label":{"value":"Detected"},"renderers":[{"id":"1201","type":"GlyphRenderer"}]},"id":"1209","type":"LegendItem"},{"attributes":{"args":{"Rdt1":0.3084228089832689,"Rdt2":0.1695180368840957,"s1":{"id":"1168","type":"Slider"},"s3":{"id":"1170","type":"Slider"},"source":{"id":"1171","type":"ColumnDataSource"},"source_line":{"id":"1223","type":"ColumnDataSource"}},"code":"\n            // Define range for alpha aka s3\n            let alpha_range = [Rdt2/Rdt1, (Rdt2-this.value)/(Rdt1-s1.value)];\n             if(s3.value*s1.value-this.value &gt;0){\n                 if (alpha_range[0]&gt;alpha_range[1]){\n                     alpha_range[1] = 1;\n                 } else{\n                     alpha_range[1] = Math.min(1,alpha_range[1]);\n                 }\n             } else{\n                 if (alpha_range[0] &lt; alpha_range[1]){\n                     alpha_range = [0.0001, alpha_range[0]];\n                 } else {\n                     alpha_range = [Math.max(0.0001, alpha_range[1]), alpha_range[0]];\n                 }\n             }\n            s3.start = alpha_range[0];\n            s3.end = alpha_range[1];\n            if(s3.value &gt; s3.end){\n            s3.value = s3.end\n            }\n            if(s3.value &lt; s3.start){\n            s3.value = s3.start\n            }\n            \n            // change values for the plot\n            var data = source.data;\n            var data_line = source_line.data;\n            var val = (Rdt1-Rdt2/s3.value)/(s1.value-this.value/s3.value);\n            val = Math.round(val*100)/100;\n            var y1 = data['y1'];\n            var y2 = data['y2'];\n            var y_line = data_line['y']; \n            y1[0] = val;\n            y2[0] = 1-val;\n            for (var i=0; i&lt; y_line.length; i++){\n            y_line[i] = val-0.003;\n            }\n             "},"id":"1233","type":"CustomJS"},{"attributes":{},"id":"1189","type":"BasicTicker"},{"attributes":{"line_width":2,"x":{"field":"x"},"y":{"field":"y"}},"id":"1225","type":"Line"},{"attributes":{"children":[{"id":"1172","subtype":"Figure","type":"Plot"},{"id":"1168","type":"Slider"},{"id":"1169","type":"Slider"},{"id":"1170","type":"Slider"}]},"id":"1234","type":"Column"},{"attributes":{"active_drag":"auto","active_inspect":"auto","active_multi":null,"active_scroll":"auto","active_tap":"auto"},"id":"1193","type":"Toolbar"},{"attributes":{"source":{"id":"1171","type":"ColumnDataSource"}},"id":"1214","type":"CDSView"},{"attributes":{"callback":null,"data":{"x":[0.73,0.77],"y":[0.237,0.237]},"selected":{"id":"1242","type":"Selection"},"selection_policy":{"id":"1243","type":"UnionRenderers"}},"id":"1223","type":"ColumnDataSource"},{"attributes":{"bottom":{"expr":{"id":"1196","type":"Stack"}},"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"top":{"expr":{"id":"1197","type":"Stack"}},"width":{"value":0.5},"x":{"field":"x"}},"id":"1212","type":"VBar"},{"attributes":{"callback":null,"end":1,"js_property_callbacks":{"change:value":[{"id":"1232","type":"CustomJS"}]},"start":0.0001,"step":0.01,"title":"R_dd1","value":0.13},"id":"1168","type":"Slider"},{"attributes":{"data_source":{"id":"1171","type":"ColumnDataSource"},"glyph":{"id":"1211","type":"VBar"},"hover_glyph":null,"muted_glyph":null,"name":"y2","nonselection_glyph":{"id":"1212","type":"VBar"},"selection_glyph":null,"view":{"id":"1214","type":"CDSView"}},"id":"1213","type":"GlyphRenderer"},{"attributes":{"dimension":1,"ticker":{"id":"1189","type":"BasicTicker"},"visible":false},"id":"1192","type":"Grid"},{"attributes":{"callback":null},"id":"1175","type":"Range1d"},{"attributes":{"callback":null,"end":0.5496287302580517,"js_property_callbacks":{"change:value":[{"id":"1231","type":"CustomJS"}]},"start":0.22148534208875384,"step":0.01,"title":"alpha","value":0.5},"id":"1170","type":"Slider"},{"attributes":{"bottom":{"expr":{"id":"1194","type":"Stack"}},"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"top":{"expr":{"id":"1195","type":"Stack"}},"width":{"value":0.5},"x":{"field":"x"}},"id":"1200","type":"VBar"},{"attributes":{"fields":[]},"id":"1194","type":"Stack"},{"attributes":{},"id":"1184","type":"BasicTicker"},{"attributes":{"fields":["y1"]},"id":"1195","type":"Stack"},{"attributes":{"callback":null,"end":1,"js_property_callbacks":{"change:value":[{"id":"1233","type":"CustomJS"}]},"start":0.0001,"step":0.01,"title":"R_dd2","value":0.13},"id":"1169","type":"Slider"},{"attributes":{"background_fill_color":{"value":"#f5fafa"},"below":[{"id":"1183","type":"LinearAxis"}],"border_fill_color":{"value":"#f5fafa"},"center":[{"id":"1187","type":"Grid"},{"id":"1192","type":"Grid"},{"id":"1208","type":"Legend"},{"id":"1229","type":"LabelSet"}],"left":[{"id":"1188","type":"LinearAxis"}],"plot_height":400,"plot_width":400,"renderers":[{"id":"1201","type":"GlyphRenderer"},{"id":"1213","type":"GlyphRenderer"},{"id":"1227","type":"GlyphRenderer"}],"title":{"id":"1173","type":"Title"},"title_location":"below","toolbar":{"id":"1193","type":"Toolbar"},"x_range":{"id":"1175","type":"Range1d"},"x_scale":{"id":"1179","type":"LinearScale"},"y_range":{"id":"1177","type":"Range1d"},"y_scale":{"id":"1181","type":"LinearScale"}},"id":"1172","subtype":"Figure","type":"Plot"},{"attributes":{"label":{"value":"Not detected"},"renderers":[{"id":"1213","type":"GlyphRenderer"}]},"id":"1222","type":"LegendItem"},{"attributes":{},"id":"1207","type":"BasicTickFormatter"},{"attributes":{},"id":"1221","type":"UnionRenderers"},{"attributes":{"fields":["y1"]},"id":"1196","type":"Stack"},{"attributes":{"args":{"Rdt1":0.3084228089832689,"Rdt2":0.1695180368840957,"s2":{"id":"1169","type":"Slider"},"s3":{"id":"1170","type":"Slider"},"source":{"id":"1171","type":"ColumnDataSource"},"source_line":{"id":"1223","type":"ColumnDataSource"}},"code":"\n             // Define range for alpha aka s3\n             let alpha_range = [Rdt2/Rdt1,(Rdt2-s2.value)/(Rdt1-this.value)];\n             if(s3.value*this.value-s2.value &gt;0){\n                 if (alpha_range[0]&gt;alpha_range[1]){\n                     alpha_range[1] = 1;\n                 } else{\n                     alpha_range[1] = Math.min(1,alpha_range[1]);\n                 }\n             } else{\n                 if (alpha_range[0] &lt; alpha_range[1]){\n                     alpha_range = [0.0001, alpha_range[0]];\n                 } else {\n                     alpha_range = [Math.max(0.0001, alpha_range[1]), alpha_range[0]]\n                 }\n             }\n             s3.start = alpha_range[0];\n             s3.end = alpha_range[1];\n             if(s3.value &gt; s3.end){\n             s3.value = s3.end\n             }\n             if(s3.value &lt; s3.start){\n             s3.value = s3.start\n             }\n             \n             // change values for the plot\n             var data = source.data;\n             var data_line = source_line.data\n             var val = (Rdt1-Rdt2/s3.value)/(this.value-s2.value/s3.value);\n             val = Math.round(val*100)/100;\n             var y1 = data['y1'];\n             var y2 = data['y2'];\n             var y_line = data_line['y'];  \n             y1[0] = val;\n             y2[0] = 1-val;\n             for (var i=0; i&lt; y_line.length; i++){\n             y_line[i] = val-0.003;\n             }\n             "},"id":"1232","type":"CustomJS"},{"attributes":{},"id":"1205","type":"BasicTickFormatter"},{"attributes":{"bottom":{"expr":{"id":"1196","type":"Stack"}},"fill_color":{"value":"#991e1e"},"line_color":{"value":"#991e1e"},"top":{"expr":{"id":"1197","type":"Stack"}},"width":{"value":0.5},"x":{"field":"x"}},"id":"1211","type":"VBar"},{"attributes":{"formatter":{"id":"1207","type":"BasicTickFormatter"},"ticker":{"id":"1189","type":"BasicTicker"}},"id":"1188","type":"LinearAxis"},{"attributes":{"fields":["y1","y2"]},"id":"1197","type":"Stack"},{"attributes":{"source":{"id":"1171","type":"ColumnDataSource"},"text":{"field":"y1"},"x":{"field":"x"},"x_offset":{"value":100},"y":{"field":"y1"},"y_offset":{"value":-10}},"id":"1229","type":"LabelSet"},{"attributes":{"source":{"id":"1171","type":"ColumnDataSource"}},"id":"1202","type":"CDSView"},{"attributes":{},"id":"1179","type":"LinearScale"},{"attributes":{"bottom":{"expr":{"id":"1194","type":"Stack"}},"fill_color":{"value":"#00995b"},"line_color":{"value":"#00995b"},"top":{"expr":{"id":"1195","type":"Stack"}},"width":{"value":0.5},"x":{"field":"x"}},"id":"1199","type":"VBar"},{"attributes":{},"id":"1243","type":"UnionRenderers"},{"attributes":{"align":"center","text":"Detected fraction","text_font_size":{"value":"20px"}},"id":"1173","type":"Title"},{"attributes":{"data_source":{"id":"1171","type":"ColumnDataSource"},"glyph":{"id":"1199","type":"VBar"},"hover_glyph":null,"muted_glyph":null,"name":"y1","nonselection_glyph":{"id":"1200","type":"VBar"},"selection_glyph":null,"view":{"id":"1202","type":"CDSView"}},"id":"1201","type":"GlyphRenderer"},{"attributes":{"callback":null,"data":{"x":[0.5],"y1":[0.24],"y2":[0.76]},"selected":{"id":"1220","type":"Selection"},"selection_policy":{"id":"1221","type":"UnionRenderers"}},"id":"1171","type":"ColumnDataSource"},{"attributes":{"line_alpha":0.1,"line_color":"#1f77b4","line_width":2,"x":{"field":"x"},"y":{"field":"y"}},"id":"1226","type":"Line"},{"attributes":{"callback":null,"end":1.05,"start":-0.05},"id":"1177","type":"Range1d"},{"attributes":{"data_source":{"id":"1223","type":"ColumnDataSource"},"glyph":{"id":"1225","type":"Line"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1226","type":"Line"},"selection_glyph":null,"view":{"id":"1228","type":"CDSView"}},"id":"1227","type":"GlyphRenderer"},{"attributes":{},"id":"1181","type":"LinearScale"},{"attributes":{},"id":"1220","type":"Selection"},{"attributes":{"items":[{"id":"1209","type":"LegendItem"},{"id":"1222","type":"LegendItem"}],"location":"top_left"},"id":"1208","type":"Legend"},{"attributes":{"source":{"id":"1223","type":"ColumnDataSource"}},"id":"1228","type":"CDSView"},{"attributes":{"formatter":{"id":"1205","type":"BasicTickFormatter"},"ticker":{"id":"1184","type":"BasicTicker"},"visible":false},"id":"1183","type":"LinearAxis"},{"attributes":{},"id":"1242","type":"Selection"},{"attributes":{"ticker":{"id":"1184","type":"BasicTicker"},"visible":false},"id":"1187","type":"Grid"},{"attributes":{"args":{"Rdt1":0.3084228089832689,"Rdt2":0.1695180368840957,"s1":{"id":"1168","type":"Slider"},"s2":{"id":"1169","type":"Slider"},"source":{"id":"1171","type":"ColumnDataSource"},"source_line":{"id":"1223","type":"ColumnDataSource"}},"code":"\n            var data = source.data;\n            var data_line = source_line.data\n            var val = (Rdt1-Rdt2/this.value)/(s1.value-s2.value/this.value);\n            val = Math.round(val*100)/100;\n            var y1 = data['y1'];\n            var y2 = data['y2']\n            var y_line = data_line['y']\n            y1[0] = val;\n            y2[0] = 1-val;\n            for (var i=0; i&lt; y_line.length; i++){\n            y_line[i] = val-0.003;\n            }\n            source.change.emit();\n        "},"id":"1231","type":"CustomJS"}],"root_ids":["1234"]},"title":"Bokeh Application","version":"1.4.0"}}
        </script>
        <script type="text/javascript">
          (function() {
            var fn = function() {
              Bokeh.safely(function() {
                (function(root) {
                  function embed_document(root) {
                    
                  var docs_json = document.getElementById('1334').textContent;
                  var render_items = [{"docid":"35236162-dd0f-4c95-af51-33e78b85bcd6","roots":{"1234":"e63ac420-3e6b-4403-be31-589de800c907"}}];
                  root.Bokeh.embed.embed_items(docs_json, render_items);
                
                  }
                  if (root.Bokeh !== undefined) {
                    embed_document(root);
                  } else {
                    var attempts = 0;
                    var timer = setInterval(function(root) {
                      if (root.Bokeh !== undefined) {
                        clearInterval(timer);
                        embed_document(root);
                      } else {
                        attempts++;
                        if (attempts > 100) {
                          clearInterval(timer);
                          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
                        }
                      }
                    }, 10, root)
                  }
                })(window);
              });
            };
            if (document.readyState != "loading") fn();
            else document.addEventListener("DOMContentLoaded", fn);
          })();
        </script>
    
  </body>
  
</html>