



<!DOCTYPE html>
<html lang="en">
  
  <head>
    
      <meta charset="utf-8">
      <title>Bokeh Plot</title>
      
      
        
          
        
        
          
        <script type="text/javascript" src="https://cdn.pydata.org/bokeh/release/bokeh-1.4.0.min.js"></script>
        <script type="text/javascript" src="https://cdn.pydata.org/bokeh/release/bokeh-widgets-1.4.0.min.js"></script>
        <script type="text/javascript">
            Bokeh.set_log_level("info");
        </script>
        
      
      
    
  </head>
  
  
  <body>
    
      
        
          
          
            
              <div class="bk-root" id="7e7f84f8-5943-47ab-bd8b-7665164eb85f" data-root-id="2403"></div>
            
          
        
      
      
        <script type="application/json" id="2503">
          {"77e4c6c7-5da9-459f-ab46-8ac4a3a81df6":{"roots":{"references":[{"attributes":{"ticker":{"id":"2353","type":"BasicTicker"},"visible":false},"id":"2356","type":"Grid"},{"attributes":{"args":{"Rdt1":0.2545715380434731,"Rdt2":0.1695180368840957,"s1":{"id":"2337","type":"Slider"},"s2":{"id":"2338","type":"Slider"},"source":{"id":"2340","type":"ColumnDataSource"},"source_line":{"id":"2392","type":"ColumnDataSource"}},"code":"\n            var data = source.data;\n            var data_line = source_line.data\n            var val = (Rdt1-Rdt2/this.value)/(s1.value-s2.value/this.value);\n            val = Math.round(val*100)/100;\n            var y1 = data['y1'];\n            var y2 = data['y2']\n            var y_line = data_line['y']\n            y1[0] = val;\n            y2[0] = 1-val;\n            for (var i=0; i&lt; y_line.length; i++){\n            y_line[i] = val-0.003;\n            }\n            source.change.emit();\n        "},"id":"2400","type":"CustomJS"},{"attributes":{"line_width":2,"x":{"field":"x"},"y":{"field":"y"}},"id":"2394","type":"Line"},{"attributes":{"fields":["y1"]},"id":"2365","type":"Stack"},{"attributes":{"source":{"id":"2340","type":"ColumnDataSource"},"text":{"field":"y1"},"x":{"field":"x"},"x_offset":{"value":100},"y":{"field":"y1"},"y_offset":{"value":-10}},"id":"2398","type":"LabelSet"},{"attributes":{"formatter":{"id":"2374","type":"BasicTickFormatter"},"ticker":{"id":"2358","type":"BasicTicker"}},"id":"2357","type":"LinearAxis"},{"attributes":{"callback":null,"end":1,"js_property_callbacks":{"change:value":[{"id":"2401","type":"CustomJS"}]},"start":0.0001,"step":0.01,"title":"R_dd1","value":0.13},"id":"2337","type":"Slider"},{"attributes":{"source":{"id":"2392","type":"ColumnDataSource"}},"id":"2397","type":"CDSView"},{"attributes":{},"id":"2390","type":"UnionRenderers"},{"attributes":{},"id":"2348","type":"LinearScale"},{"attributes":{"callback":null,"end":1,"js_property_callbacks":{"change:value":[{"id":"2402","type":"CustomJS"}]},"start":0.0001,"step":0.01,"title":"R_dd2","value":0.13},"id":"2338","type":"Slider"},{"attributes":{"args":{"Rdt1":0.2545715380434731,"Rdt2":0.1695180368840957,"s1":{"id":"2337","type":"Slider"},"s3":{"id":"2339","type":"Slider"},"source":{"id":"2340","type":"ColumnDataSource"},"source_line":{"id":"2392","type":"ColumnDataSource"}},"code":"\n            // Define range for alpha aka s3\n            let alpha_range = [Rdt2/Rdt1, (Rdt2-this.value)/(Rdt1-s1.value)];\n             if(s3.value*s1.value-this.value &gt;0){\n                 if (alpha_range[0]&gt;alpha_range[1]){\n                     alpha_range[1] = 1;\n                 } else{\n                     alpha_range[1] = Math.min(1,alpha_range[1]);\n                 }\n             } else{\n                 if (alpha_range[0] &lt; alpha_range[1]){\n                     alpha_range = [0.0001, alpha_range[0]];\n                 } else {\n                     alpha_range = [Math.max(0.0001, alpha_range[1]), alpha_range[0]];\n                 }\n             }\n            s3.start = alpha_range[0];\n            s3.end = alpha_range[1];\n            if(s3.value &gt; s3.end){\n            s3.value = s3.end\n            }\n            if(s3.value &lt; s3.start){\n            s3.value = s3.start\n            }\n            \n            // change values for the plot\n            var data = source.data;\n            var data_line = source_line.data;\n            var val = (Rdt1-Rdt2/s3.value)/(s1.value-this.value/s3.value);\n            val = Math.round(val*100)/100;\n            var y1 = data['y1'];\n            var y2 = data['y2'];\n            var y_line = data_line['y']; \n            y1[0] = val;\n            y2[0] = 1-val;\n            for (var i=0; i&lt; y_line.length; i++){\n            y_line[i] = val-0.003;\n            }\n             "},"id":"2402","type":"CustomJS"},{"attributes":{"label":{"value":"Detected"},"renderers":[{"id":"2370","type":"GlyphRenderer"}]},"id":"2378","type":"LegendItem"},{"attributes":{"callback":null,"end":1.05,"start":-0.05},"id":"2346","type":"Range1d"},{"attributes":{"args":{"Rdt1":0.2545715380434731,"Rdt2":0.1695180368840957,"s2":{"id":"2338","type":"Slider"},"s3":{"id":"2339","type":"Slider"},"source":{"id":"2340","type":"ColumnDataSource"},"source_line":{"id":"2392","type":"ColumnDataSource"}},"code":"\n             // Define range for alpha aka s3\n             let alpha_range = [Rdt2/Rdt1,(Rdt2-s2.value)/(Rdt1-this.value)];\n             if(s3.value*this.value-s2.value &gt;0){\n                 if (alpha_range[0]&gt;alpha_range[1]){\n                     alpha_range[1] = 1;\n                 } else{\n                     alpha_range[1] = Math.min(1,alpha_range[1]);\n                 }\n             } else{\n                 if (alpha_range[0] &lt; alpha_range[1]){\n                     alpha_range = [0.0001, alpha_range[0]];\n                 } else {\n                     alpha_range = [Math.max(0.0001, alpha_range[1]), alpha_range[0]]\n                 }\n             }\n             s3.start = alpha_range[0];\n             s3.end = alpha_range[1];\n             if(s3.value &gt; s3.end){\n             s3.value = s3.end\n             }\n             if(s3.value &lt; s3.start){\n             s3.value = s3.start\n             }\n             \n             // change values for the plot\n             var data = source.data;\n             var data_line = source_line.data\n             var val = (Rdt1-Rdt2/s3.value)/(this.value-s2.value/s3.value);\n             val = Math.round(val*100)/100;\n             var y1 = data['y1'];\n             var y2 = data['y2'];\n             var y_line = data_line['y'];  \n             y1[0] = val;\n             y2[0] = 1-val;\n             for (var i=0; i&lt; y_line.length; i++){\n             y_line[i] = val-0.003;\n             }\n             "},"id":"2401","type":"CustomJS"},{"attributes":{"fields":["y1"]},"id":"2364","type":"Stack"},{"attributes":{},"id":"2412","type":"UnionRenderers"},{"attributes":{"fields":[]},"id":"2363","type":"Stack"},{"attributes":{"bottom":{"expr":{"id":"2365","type":"Stack"}},"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"top":{"expr":{"id":"2366","type":"Stack"}},"width":{"value":0.5},"x":{"field":"x"}},"id":"2381","type":"VBar"},{"attributes":{"dimension":1,"ticker":{"id":"2358","type":"BasicTicker"},"visible":false},"id":"2361","type":"Grid"},{"attributes":{"formatter":{"id":"2376","type":"BasicTickFormatter"},"ticker":{"id":"2353","type":"BasicTicker"},"visible":false},"id":"2352","type":"LinearAxis"},{"attributes":{"data_source":{"id":"2340","type":"ColumnDataSource"},"glyph":{"id":"2380","type":"VBar"},"hover_glyph":null,"muted_glyph":null,"name":"y2","nonselection_glyph":{"id":"2381","type":"VBar"},"selection_glyph":null,"view":{"id":"2383","type":"CDSView"}},"id":"2382","type":"GlyphRenderer"},{"attributes":{"background_fill_color":{"value":"#f5fafa"},"below":[{"id":"2352","type":"LinearAxis"}],"border_fill_color":{"value":"#f5fafa"},"center":[{"id":"2356","type":"Grid"},{"id":"2361","type":"Grid"},{"id":"2377","type":"Legend"},{"id":"2398","type":"LabelSet"}],"left":[{"id":"2357","type":"LinearAxis"}],"plot_height":400,"plot_width":400,"renderers":[{"id":"2370","type":"GlyphRenderer"},{"id":"2382","type":"GlyphRenderer"},{"id":"2396","type":"GlyphRenderer"}],"title":{"id":"2342","type":"Title"},"title_location":"below","toolbar":{"id":"2362","type":"Toolbar"},"x_range":{"id":"2344","type":"Range1d"},"x_scale":{"id":"2348","type":"LinearScale"},"y_range":{"id":"2346","type":"Range1d"},"y_scale":{"id":"2350","type":"LinearScale"}},"id":"2341","subtype":"Figure","type":"Plot"},{"attributes":{"source":{"id":"2340","type":"ColumnDataSource"}},"id":"2383","type":"CDSView"},{"attributes":{"bottom":{"expr":{"id":"2365","type":"Stack"}},"fill_color":{"value":"#991e1e"},"line_color":{"value":"#991e1e"},"top":{"expr":{"id":"2366","type":"Stack"}},"width":{"value":0.5},"x":{"field":"x"}},"id":"2380","type":"VBar"},{"attributes":{"data_source":{"id":"2340","type":"ColumnDataSource"},"glyph":{"id":"2368","type":"VBar"},"hover_glyph":null,"muted_glyph":null,"name":"y1","nonselection_glyph":{"id":"2369","type":"VBar"},"selection_glyph":null,"view":{"id":"2371","type":"CDSView"}},"id":"2370","type":"GlyphRenderer"},{"attributes":{"callback":null},"id":"2344","type":"Range1d"},{"attributes":{},"id":"2358","type":"BasicTicker"},{"attributes":{"line_alpha":0.1,"line_color":"#1f77b4","line_width":2,"x":{"field":"x"},"y":{"field":"y"}},"id":"2395","type":"Line"},{"attributes":{"children":[{"id":"2341","subtype":"Figure","type":"Plot"},{"id":"2337","type":"Slider"},{"id":"2338","type":"Slider"},{"id":"2339","type":"Slider"}]},"id":"2403","type":"Column"},{"attributes":{},"id":"2350","type":"LinearScale"},{"attributes":{"callback":null,"data":{"x":[0.5],"y1":[0.65],"y2":[0.35]},"selected":{"id":"2389","type":"Selection"},"selection_policy":{"id":"2390","type":"UnionRenderers"}},"id":"2340","type":"ColumnDataSource"},{"attributes":{"callback":null,"data":{"x":[0.73,0.77],"y":[0.647,0.647]},"selected":{"id":"2411","type":"Selection"},"selection_policy":{"id":"2412","type":"UnionRenderers"}},"id":"2392","type":"ColumnDataSource"},{"attributes":{"fields":["y1","y2"]},"id":"2366","type":"Stack"},{"attributes":{"items":[{"id":"2378","type":"LegendItem"},{"id":"2391","type":"LegendItem"}],"location":"top_left"},"id":"2377","type":"Legend"},{"attributes":{"align":"center","text":"Detected fraction","text_font_size":{"value":"20px"}},"id":"2342","type":"Title"},{"attributes":{"data_source":{"id":"2392","type":"ColumnDataSource"},"glyph":{"id":"2394","type":"Line"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"2395","type":"Line"},"selection_glyph":null,"view":{"id":"2397","type":"CDSView"}},"id":"2396","type":"GlyphRenderer"},{"attributes":{},"id":"2376","type":"BasicTickFormatter"},{"attributes":{},"id":"2411","type":"Selection"},{"attributes":{},"id":"2353","type":"BasicTicker"},{"attributes":{},"id":"2374","type":"BasicTickFormatter"},{"attributes":{"active_drag":"auto","active_inspect":"auto","active_multi":null,"active_scroll":"auto","active_tap":"auto"},"id":"2362","type":"Toolbar"},{"attributes":{"bottom":{"expr":{"id":"2363","type":"Stack"}},"fill_color":{"value":"#00995b"},"line_color":{"value":"#00995b"},"top":{"expr":{"id":"2364","type":"Stack"}},"width":{"value":0.5},"x":{"field":"x"}},"id":"2368","type":"VBar"},{"attributes":{},"id":"2389","type":"Selection"},{"attributes":{"source":{"id":"2340","type":"ColumnDataSource"}},"id":"2371","type":"CDSView"},{"attributes":{"bottom":{"expr":{"id":"2363","type":"Stack"}},"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"top":{"expr":{"id":"2364","type":"Stack"}},"width":{"value":0.5},"x":{"field":"x"}},"id":"2369","type":"VBar"},{"attributes":{"label":{"value":"Not detected"},"renderers":[{"id":"2382","type":"GlyphRenderer"}]},"id":"2391","type":"LegendItem"},{"attributes":{"callback":null,"end":0.6658954814310277,"js_property_callbacks":{"change:value":[{"id":"2400","type":"CustomJS"}]},"start":0.31723166868425956,"step":0.01,"title":"alpha","value":0.5},"id":"2339","type":"Slider"}],"root_ids":["2403"]},"title":"Bokeh Application","version":"1.4.0"}}
        </script>
        <script type="text/javascript">
          (function() {
            var fn = function() {
              Bokeh.safely(function() {
                (function(root) {
                  function embed_document(root) {
                    
                  var docs_json = document.getElementById('2503').textContent;
                  var render_items = [{"docid":"77e4c6c7-5da9-459f-ab46-8ac4a3a81df6","roots":{"2403":"7e7f84f8-5943-47ab-bd8b-7665164eb85f"}}];
                  root.Bokeh.embed.embed_items(docs_json, render_items);
                
                  }
                  if (root.Bokeh !== undefined) {
                    embed_document(root);
                  } else {
                    var attempts = 0;
                    var timer = setInterval(function(root) {
                      if (root.Bokeh !== undefined) {
                        clearInterval(timer);
                        embed_document(root);
                      } else {
                        attempts++;
                        if (attempts > 100) {
                          clearInterval(timer);
                          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
                        }
                      }
                    }, 10, root)
                  }
                })(window);
              });
            };
            if (document.readyState != "loading") fn();
            else document.addEventListener("DOMContentLoaded", fn);
          })();
        </script>
    
  </body>
  
</html>